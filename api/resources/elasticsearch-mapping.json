{
    "index_patterns": [
        "idai-field_*"
    ],
    "mappings": {
        "properties": {
            "resource": {
                "properties": {
                    "id": {
                        "type": "keyword",
                        "store": true
                    },
                    "identifier": {
                        "type": "keyword",
                        "store": true
                    },
                    "category": {
                        "properties": {
                            "name": {
                                "type": "keyword",
                                "store": true
                            }
                        }
                    },
                    /* Elasticsearch does only support indexing wgs84
                       coordinates in the geo_shape field type. Thus
                       local geometry is only stored and
                       coordinates are not indexed. */
                    "geometry": {
                        "properties": {
                            "coordinates": {
                                "type": "double",
                                "index": false
                            }
                        }
                    },
                    "geometry_wgs84": {
                        "type": "geo_shape",
                        "coerce": true
                    },
                    "childrenCount": {
                        "type": "integer",
                        "store": true
                    },
                    "material": {
                        "properties": {
                            "name": {
                                "type": "keyword",
                                "store": true
                            }
                        }
                    },
                    "color": {
                        "properties": {
                            "name": {
                                "type": "keyword",
                                "store": true
                            }
                        }
                    }
                }
            },
            "project": {
                "type": "keyword",
                "store": true
            },
            "created": {
                "properties": {
                    "date": {
                        "type": "date"
                    }
                }
            },
            "modified": {
                "properties": {
                    "date": {
                        "type": "date"
                    }
                }
            },
            "sort": {
                "type": "keyword"
            }
        },
        "dynamic_templates": [
            {
                "relationsId": {
                    "path_match": "resource.relations.*.resource.id",
                    "mapping": {
                        "type": "keyword",
                        "store": true
                    }
                }
            },
            {
                "relationsIdentifier": {
                    "path_match": "resource.relations.*.resource.identifier",
                    "mapping": {
                        "type": "keyword",
                        "store": true
                    }
                }
            }
        ]
    }
}
